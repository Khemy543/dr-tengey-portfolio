/*!
 * JavaScript Custom Forms
 *
 * Copyright 2014-2015 PSD2HTML - http://psd2html.com/jcf
 * Released under the MIT license (LICENSE.txt)
 *
 * Version: 1.2.3
 */
function fhk_on_load(){fhk_jcf(),fhk_site_scrolled(),fhk_object_fit(),fhk_init_animations()}function fhk_site_scrolled(){(y_scroll_pos=window.pageYOffset)>header_offset?(body_elem.removeClass("site-scroll--inactive"),body_elem.addClass("site-scroll--active"),y_scroll_pos_prev>y_scroll_pos?(body_elem.removeClass("site-scroll--down"),body_elem.addClass("site-scroll--up")):y_scroll_pos!=y_scroll_pos_prev&&(body_elem.removeClass("site-scroll--up"),body_elem.addClass("site-scroll--down"))):(body_elem.removeClass("site-scroll--active"),body_elem.addClass("site-scroll--inactive")),y_scroll_pos>visible_offset?body_elem.addClass("site-scroll--visible"):body_elem.removeClass("site-scroll--visible"),y_scroll_pos_prev=y_scroll_pos}function fhk_open_modal(e){var t=$('[data-modal="'+e+'"]');t.length&&(t.find(".modal__overlay").length||t.prepend('<div class="modal__overlay"></div>'),t.find(".modal__close").length||t.find(".modal__inner").append('<a class="modal__close js-close-modal" href="#">'+svgs.cross+"</a>"),fhk_lock_scroll(),t.fadeIn(transition_speed).addClass("active"))}function fhk_close_modal(){var e=$(".modal.active");e.length&&(fhk_unlock_scroll(),e.fadeOut(transition_speed).removeClass("active"),e.find("iframe").each((function(){var e=$(this).attr("src");$(this).attr("src",e)})))}function fhk_lock_scroll(){window.pageYOffset&&(modal_scroll_pos=y_scroll_pos,page_wrap.css({top:-modal_scroll_pos})),doc_el.css({height:"100%",overflow:"hidden"}),$("body").addClass("scroll-locked")}function fhk_unlock_scroll(){$("body").removeClass("scroll-locked"),doc_el.css({height:"",overflow:""}),page_wrap.css({top:""}),window.scrollTo(0,modal_scroll_pos),window.setTimeout((function(){modal_scroll_pos=null}),0)}function fhk_jcf(){$("select").attr("data-jcf",'{"wrapNative": false, "wrapNativeOnMobile": false, "fakeDropInBody": false, "multipleCompactStyle": true}'),$('input[type="file"]').attr("data-jcf",'{"buttonText" : ""}'),$("[data-range-vertical]").attr("data-jcf",'{"orientation": "vertical"}'),$(".woocommerce-checkout select, .woocommerce-edit-address select, #calc_shipping_country").addClass("jcf-ignore"),jcf.replaceAll(),$(".jcf-icon").remove(),$(".jcf-select-opener").append('<span class="jcf-icon">'+svgs.caret_down+"</span>"),$(".jcf-btn-inc").append('<span class="jcf-icon">'+svgs.plus+"</span>"),$(".jcf-btn-dec").append('<span class="jcf-icon">'+svgs.minus+"</span>"),$(".jcf-checkbox span").each((function(){$(this).append('<span class="jcf-icon">'+svgs.check+"</span>"),$(this).closest(".gfield_checkbox").length&&$(this).append('<span class="jcf-icon-inactive">'+svgs.plus+"</span>")})),$(".gform_wrapper .jcf-radio span").each((function(){$(this).append('<span class="jcf-icon">'+svgs.check+"</span>"),$(this).append('<span class="jcf-icon-inactive">'+svgs.plus+"</span>")}))}function fhk_gform_submit(){$(".gform_button").on("click",(function(){var e=$(this);setTimeout((function(){var t=e.attr("data-gf-id"),s=$("#gform_wrapper_"+t+" .gfield_error");e.addClass("btn--has-loader").append('<span class="btn__loader">'+svgs.spinner+"</span>"),s.length?$("html, body").animate({scrollTop:s.offset().top-250},500):$("#gform_wrapper_"+t+", #form-top-"+t+", #gform_confirmation_message_"+t).length&&$("html, body").animate({scrollTop:$("#gform_wrapper_"+t+", #form-top-"+t+", #gform_confirmation_message_"+t).offset().top-250},500)}),500)}))}function fhk_object_fit(){void 0===document.createElement("div").style.objectFit&&(console.warn("Object Fit not supported by browser"),$(".js-object-fit").each((function(){img_url=$(this).prop("src"),$(this).css("opacity",0).parent().css({"background-image":"url("+img_url+")","background-size":"cover","background-position":"center center"})})))}function fhk_init_animations(){body.classList.contains("animations-enabled")&&(fhk_hoz_scroll_init(),fhk_css_animations_init(),fhk_body_color_init(),fhk_fallintoplace_init(),fhk_focus_items_init())}function fhk_body_color_init(){body_colors=[],body_color_current=!1,$("[data-body-color]").each((function(){var e=$(this),t=e.offset(),s=e.attr("data-body-color");body_colors.push({el:e,start:t.top,end:t.top+e.outerHeight(),color:s})})),fhk_update_body_color()}function fhk_update_body_color(){body_color_current&&fhk_scroll_pos_encapsulated(body_color_current.start,body_color_current.end,.75*window_height)||fhk_current_body_color_obj()}function fhk_current_body_color_obj(){for(var e=0;e<body_colors.length;e++){var t=body_colors[e];if(fhk_scroll_pos_encapsulated(t.start,t.end,.5*window_height)){body_color_current=t;break}}body_color_current&&$("html").attr("data-color",body_color_current.color)}function fhk_scroll_pos_encapsulated(e,t,s){var i=y_scroll_pos+s;return i>=e&&i<t}function fhk_el_on_screen(e,t){return y_scroll_pos+window_height>e&&y_scroll_pos<t}function fhk_hoz_scroll_init(){scrolling_hoz=!1,hoz_scroll_els=[],window_width>1280?($(".hoz-scroll").each((function(){var e=$(this),t=$(this).width(),s=e.find(".hoz-scroll__inner"),i=e.find(".hoz-scroll__content"),n=i[0].scrollWidth,o=-1*n+t;if(n>t){var a=n-e.width(),l=window_height+2*a;window_width<=670&&(l=window_height_initial+2*a),e.css("height",l);var r=e.offset().top,c=r+e.outerHeight();hoz_scroll_els.push({el:e,inner_el:s,content_el:i,start:r,end:c,min_scroll:0,max_scroll:o})}})),fhk_check_hoz_scroll()):($(".hoz-scroll").css("height",""),$(".hoz-scroll__content").css("transform",""))}function fhk_check_hoz_scroll(){if(hoz_scroll_els.length){for(var e=!1,t=0;t<hoz_scroll_els.length;t++){if(fhk_scroll_pos_encapsulated(hoz_scroll_els[t].start,hoz_scroll_els[t].end,0)){hoz_scroll_els[t]!=scrolling_hoz&&(e=scrolling_hoz,scrolling_hoz=hoz_scroll_els[t]);break}scrolling_hoz&&(e=scrolling_hoz),scrolling_hoz=!1}e&&(y_scroll_pos>=e.end?e.content_el.css("transform","translateX("+e.max_scroll+")"):e.content_el.css("transform","translateX("+e.min_scroll+")")),fhk_scroll_horizontally()}}function fhk_scroll_horizontally(){if(scrolling_hoz){var e=.5*(scrolling_hoz.inner_el.offset().top-scrolling_hoz.start);scrolling_hoz.content_el.css("transform","translateX(-"+e+"px)")}}function fhk_fallintoplace_init(){fallintoplace_els=[],window_width>1280?($("[data-fallintoplace]").each((function(){var e=$(this),t=e.find(".fallintoplace"),s=e.offset(),i=e.outerHeight(),n=s.top-.5*window_height,o=s.top+.5*i,a=$(this).attr("data-fallintoplace");fallintoplace_els.push({el:e,inner_el:t,start:n,end:o,position:a})})),fhk_check_fallintoplace_els()):($("[data-fallintoplace]").css("opacity","1"),$(".fallintoplace").css("transform",""))}function fhk_check_fallintoplace_els(){for(var e=.5*window_height,t=0;t<fallintoplace_els.length;t++){if(fhk_scroll_pos_encapsulated(fallintoplace_els[t].start,fallintoplace_els[t].end,e)){var s=1-(y_scroll_pos+e-fallintoplace_els[t].start)/(fallintoplace_els[t].end-fallintoplace_els[t].start),i=parseInt(s*fallintoplace_els[t].position);fallintoplace_els[t].inner_el.css("transform","translateY("+i+"px)")}else if(y_scroll_pos<fallintoplace_els[t].start){i=parseInt(1*fallintoplace_els[t].position);fallintoplace_els[t].inner_el.css("transform","translateY("+i+"px)")}else{i=parseInt(0*fallintoplace_els[t].position);fallintoplace_els[t].inner_el.css("transform","translateY("+i+"px)")}fallintoplace_els[t].el.css("opacity","1")}}function fhk_focus_items_init(){focus_els=[],$(".focus-items").each((function(){var e=$(this),t=e.offset().top,s=t+e.outerHeight(),i=[];e.find(".focus-item").each((function(){var e=$(this),t=e.offset().top+e.outerHeight()/2;i.push({el:e,center:t})})),i.length&&focus_els.push({el:e,start:t,end:s,items:i})})),fhk_check_focus_items()}function fhk_check_focus_items(){for(var e=0;e<focus_els.length;e++)fhk_el_on_screen(focus_els[e].start,focus_els[e].end)&&fhk_focus_items(focus_els[e].items)}function fhk_focus_items(e){for(var t=y_scroll_pos+window_height/2,s=window_height/2,i=0;i<e.length;i++){var n=t-e[i].center,o=1-n/s;o>1&&(o=1-(n=e[i].center-t)/s),e[i].el.css("opacity",o)}}function fhk_load_animations_class(){0==y_scroll_pos&&$("body").addClass("page-load-unscrolled")}function fhk_css_animations_init(){css_animations=[],$(".css-animate").each((function(){var e=$(this),t=e.offset().top,s=t+e.outerHeight();css_animations.push({el:e,start:t,end:s})})),fhk_css_animation_play_pause()}function fhk_css_animation_play_pause(){if(css_animations.length)for(var e=0;e<css_animations.length;e++)fhk_el_on_screen(css_animations[e].start,css_animations[e].end)?css_animations[e].el.removeClass("css-animate-pause"):css_animations[e].el.addClass("css-animate-pause")}!function(e,t){"use strict";"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports?module.exports=t(require("jquery")):e.jcf=t(jQuery)}(this,(function(e){"use strict";var t=[],s={optionsKey:"jcf",dataKey:"jcf-instance",rtlClass:"jcf-rtl",focusClass:"jcf-focus",pressedClass:"jcf-pressed",disabledClass:"jcf-disabled",hiddenClass:"jcf-hidden",resetAppearanceClass:"jcf-reset-appearance",unselectableClass:"jcf-unselectable"},i="ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch,n=/Windows Phone/.test(navigator.userAgent);s.isMobileDevice=!(!i&&!n);!function(){var t,s=navigator.pointerEnabled||navigator.msPointerEnabled,i="ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch,n={},o="jcf-";t=s?{pointerover:navigator.pointerEnabled?"pointerover":"MSPointerOver",pointerdown:navigator.pointerEnabled?"pointerdown":"MSPointerDown",pointermove:navigator.pointerEnabled?"pointermove":"MSPointerMove",pointerup:navigator.pointerEnabled?"pointerup":"MSPointerUp"}:{pointerover:"mouseover",pointerdown:"mousedown"+(i?" touchstart":""),pointermove:"mousemove"+(i?" touchmove":""),pointerup:"mouseup"+(i?" touchend":"")},e.each(t,(function(t,s){e.each(s.split(" "),(function(e,s){n[s]=t}))})),e.each(t,(function(t,s){s=s.split(" "),e.event.special[o+t]={setup:function(){var t=this;e.each(s,(function(e,s){t.addEventListener?t.addEventListener(s,l,!1):t["on"+s]=l}))},teardown:function(){var t=this;e.each(s,(function(e,s){t.addEventListener?t.removeEventListener(s,l,!1):t["on"+s]=null}))}}}));var a=null,l=function(t){var s=t||window.event,i=null,l=n[s.type];if((t=e.event.fix(s)).type=o+l,s.pointerType)switch(s.pointerType){case 2:t.pointerType="touch";break;case 3:t.pointerType="pen";break;case 4:t.pointerType="mouse";break;default:t.pointerType=s.pointerType}else t.pointerType=s.type.substr(0,5);return t.pageX||t.pageY||(i=s.changedTouches?s.changedTouches[0]:s,t.pageX=i.pageX,t.pageY=i.pageY),"touchend"===s.type&&(a={x:t.pageX,y:t.pageY}),"mouse"===t.pointerType&&a&&function(e){var t=Math.abs(e.pageX-a.x),s=Math.abs(e.pageY-a.y);return 25>=t&&25>=s||void 0}(t)?void 0:(e.event.dispatch||e.event.handle).call(this,t)}}(),function(){var t=("onwheel"in document||document.documentMode>=9?"wheel":"mousewheel DOMMouseScroll").split(" "),s="jcf-mousewheel";e.event.special[s]={setup:function(){var s=this;e.each(t,(function(e,t){s.addEventListener?s.addEventListener(t,i,!1):s["on"+t]=i}))},teardown:function(){var s=this;e.each(t,(function(e,t){s.addEventListener?s.removeEventListener(t,i,!1):s["on"+t]=null}))}};var i=function(t){var i=t||window.event;if((t=e.event.fix(i)).type=s,"detail"in i&&(t.deltaY=-i.detail),"wheelDelta"in i&&(t.deltaY=-i.wheelDelta),"wheelDeltaY"in i&&(t.deltaY=-i.wheelDeltaY),"wheelDeltaX"in i&&(t.deltaX=-i.wheelDeltaX),"deltaY"in i&&(t.deltaY=i.deltaY),"deltaX"in i&&(t.deltaX=i.deltaX),t.delta=t.deltaY||t.deltaX,1===i.deltaMode){t.delta*=16,t.deltaY*=16,t.deltaX*=16}return(e.event.dispatch||e.event.handle).call(this,t)}}();var o={fireNativeEvent:function(t,s){e(t).each((function(){var e,t=this;t.dispatchEvent?((e=document.createEvent("HTMLEvents")).initEvent(s,!0,!0),t.dispatchEvent(e)):document.createEventObject&&((e=document.createEventObject()).target=t,t.fireEvent("on"+s,e))}))},bindHandlers:function(){var t=this;e.each(t,(function(s,i){0===s.indexOf("on")&&e.isFunction(i)&&(t[s]=function(){return i.apply(t,arguments)})}))}},a={version:"1.2.3",modules:{},getOptions:function(){return e.extend({},s)},setOptions:function(t,i){arguments.length>1?this.modules[t]&&e.extend(this.modules[t].prototype.options,i):e.extend(s,t)},addModule:function(i){e.isFunction(i)&&(i=i(e,window));var n=function(i){i.element.data(s.dataKey)||i.element.data(s.dataKey,this),t.push(this),this.options=e.extend({},s,this.options,a(i.element),i),this.bindHandlers(),this.init.apply(this,arguments)},a=function(t){var i=t.data(s.optionsKey),n=t.attr(s.optionsKey);if(i)return i;if(n)try{return e.parseJSON(n)}catch(e){}};n.prototype=i,e.extend(i,o),i.plugins&&e.each(i.plugins,(function(t,s){e.extend(s.prototype,o)}));var l=n.prototype.destroy;n.prototype.destroy=function(){this.options.element.removeData(this.options.dataKey);for(var e=t.length-1;e>=0;e--)if(t[e]===this){t.splice(e,1);break}l&&l.apply(this,arguments)},this.modules[i.name]=n},getInstance:function(t){return e(t).data(s.dataKey)},replace:function(t,i,n){var o,l=this;return s.styleSheetCreated||function(){var t=e("<style>").appendTo("head"),i=t.prop("sheet")||t.prop("styleSheet"),n=function(e,t,s){s=s||0,i.insertRule?i.insertRule(e+"{"+t+"}",s):i.addRule(e,t,s)};n("."+s.hiddenClass,"position:absolute !important;left:-9999px !important;height:1px !important;width:1px !important;margin:0 !important;border-width:0 !important;-webkit-appearance:none;-moz-appearance:none;appearance:none"),n("."+s.rtlClass+" ."+s.hiddenClass,"right:-9999px !important; left: auto !important"),n("."+s.unselectableClass,"-webkit-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; -webkit-tap-highlight-color: rgba(0,0,0,0);"),n("."+s.resetAppearanceClass,"background: none; border: none; -webkit-appearance: none; appearance: none; opacity: 0; filter: alpha(opacity=0);");var o=e("html"),l=e("body");"rtl"!==o.css("direction")&&"rtl"!==l.css("direction")||o.addClass(s.rtlClass),o.on("reset",(function(){setTimeout((function(){a.refreshAll()}),0)})),s.styleSheetCreated=!0}(),e(t).each((function(){var t,a=e(this);(o=a.data(s.dataKey))?o.refresh():(i||e.each(l.modules,(function(e,t){return t.prototype.matchElement.call(t.prototype,a)?(i=e,!1):void 0})),i&&(t=e.extend({element:a},n),o=new l.modules[i](t)))})),o},refresh:function(t){e(t).each((function(){var t=e(this).data(s.dataKey);t&&t.refresh()}))},destroy:function(t){e(t).each((function(){var t=e(this).data(s.dataKey);t&&t.destroy()}))},replaceAll:function(t){var s=this;e.each(this.modules,(function(i,n){e(n.prototype.selector,t).each((function(){this.className.indexOf("jcf-ignore")<0&&s.replace(this,i)}))}))},refreshAll:function(i){if(i)e.each(this.modules,(function(t,n){e(n.prototype.selector,i).each((function(){var t=e(this).data(s.dataKey);t&&t.refresh()}))}));else for(var n=t.length-1;n>=0;n--)t[n].refresh()},destroyAll:function(i){if(i)e.each(this.modules,(function(t,n){e(n.prototype.selector,i).each((function(t,i){var n=e(i).data(s.dataKey);n&&n.destroy()}))}));else for(;t.length;)t[0].destroy()}};return"function"==typeof define&&define.amd&&(window.jcf=a),a})),function(e){e.addModule((function(t,s){"use strict";function i(e){this.options=t.extend({wrapNative:!0,wrapNativeOnMobile:!0,fakeDropInBody:!0,useCustomScroll:!0,flipDropToFit:!0,maxVisibleItems:10,fakeAreaStructure:'<span class="jcf-select"><span class="jcf-select-text"></span><span class="jcf-select-opener"></span></span>',fakeDropStructure:'<div class="jcf-select-drop"><div class="jcf-select-drop-content"></div></div>',optionClassPrefix:"jcf-option-",selectClassPrefix:"jcf-select-",dropContentSelector:".jcf-select-drop-content",selectTextSelector:".jcf-select-text",dropActiveClass:"jcf-drop-active",flipDropClass:"jcf-drop-flipped"},e),this.init()}function n(e){this.options=t.extend({wrapNative:!0,useCustomScroll:!0,fakeStructure:'<span class="jcf-list-box"><span class="jcf-list-wrapper"></span></span>',selectClassPrefix:"jcf-select-",listHolder:".jcf-list-wrapper"},e),this.init()}function o(e){this.options=t.extend({holder:null,maxVisibleItems:10,selectOnClick:!0,useHoverClass:!1,useCustomScroll:!1,handleResize:!0,multipleSelectWithoutKey:!1,alwaysPreventMouseWheel:!1,indexAttribute:"data-index",cloneClassPrefix:"jcf-option-",containerStructure:'<span class="jcf-list"><span class="jcf-list-content"></span></span>',containerSelector:".jcf-list-content",captionClass:"jcf-optgroup-caption",disabledClass:"jcf-disabled",optionClass:"jcf-option",groupClass:"jcf-optgroup",hoverClass:"jcf-hover",selectedClass:"jcf-selected",scrollClass:"jcf-scroll-active"},e),this.init()}var a={name:"Select",selector:"select",options:{element:null,multipleCompactStyle:!1},plugins:{ListBox:n,ComboBox:i,SelectList:o},matchElement:function(e){return e.is("select")},init:function(){this.element=t(this.options.element),this.createInstance()},isListBox:function(){return this.element.is("[size]:not([jcf-size]), [multiple]")},createInstance:function(){this.instance&&this.instance.destroy(),this.isListBox()&&!this.options.multipleCompactStyle?this.instance=new n(this.options):this.instance=new i(this.options)},refresh:function(){this.isListBox()&&this.instance instanceof i||!this.isListBox()&&this.instance instanceof n?this.createInstance():this.instance.refresh()},destroy:function(){this.instance.destroy()}};t.extend(i.prototype,{init:function(){this.initStructure(),this.bindHandlers(),this.attachEvents(),this.refresh()},initStructure:function(){this.win=t(s),this.doc=t(document),this.realElement=t(this.options.element),this.fakeElement=t(this.options.fakeAreaStructure).insertAfter(this.realElement),this.selectTextContainer=this.fakeElement.find(this.options.selectTextSelector),this.selectText=t("<span></span>").appendTo(this.selectTextContainer),r(this.fakeElement),this.fakeElement.addClass(l(this.realElement.prop("className"),this.options.selectClassPrefix)),this.realElement.prop("multiple")&&this.fakeElement.addClass("jcf-compact-multiple"),this.options.isMobileDevice&&this.options.wrapNativeOnMobile&&!this.options.wrapNative&&(this.options.wrapNative=!0),this.options.wrapNative?this.realElement.prependTo(this.fakeElement).css({position:"absolute",height:"100%",width:"100%"}).addClass(this.options.resetAppearanceClass):(this.realElement.addClass(this.options.hiddenClass),this.fakeElement.attr("title",this.realElement.attr("title")),this.fakeDropTarget=this.options.fakeDropInBody?t("body"):this.fakeElement)},attachEvents:function(){var e=this;this.delayedRefresh=function(){setTimeout((function(){e.refresh(),e.list&&(e.list.refresh(),e.list.scrollToActiveOption())}),1)},this.options.wrapNative?this.realElement.on({focus:this.onFocus,change:this.onChange,click:this.onChange,keydown:this.delayedRefresh}):(this.realElement.on({focus:this.onFocus,change:this.onChange,keydown:this.onKeyDown}),this.fakeElement.on({"jcf-pointerdown":this.onSelectAreaPress}))},onKeyDown:function(e){13===e.which?this.toggleDropdown():this.dropActive&&this.delayedRefresh()},onChange:function(){this.refresh()},onFocus:function(){this.pressedFlag&&this.focusedFlag||(this.fakeElement.addClass(this.options.focusClass),this.realElement.on("blur",this.onBlur),this.toggleListMode(!0),this.focusedFlag=!0)},onBlur:function(){this.pressedFlag||(this.fakeElement.removeClass(this.options.focusClass),this.realElement.off("blur",this.onBlur),this.toggleListMode(!1),this.focusedFlag=!1)},onResize:function(){this.dropActive&&this.hideDropdown()},onSelectDropPress:function(){this.pressedFlag=!0},onSelectDropRelease:function(e,t){this.pressedFlag=!1,"mouse"===t.pointerType&&this.realElement.focus()},onSelectAreaPress:function(e){!this.options.fakeDropInBody&&t(e.target).closest(this.dropdown).length||e.button>1||this.realElement.is(":disabled")||(this.selectOpenedByEvent=e.pointerType,this.toggleDropdown(),this.focusedFlag||("mouse"===e.pointerType?this.realElement.focus():this.onFocus(e)),this.pressedFlag=!0,this.fakeElement.addClass(this.options.pressedClass),this.doc.on("jcf-pointerup",this.onSelectAreaRelease))},onSelectAreaRelease:function(e){this.focusedFlag&&"mouse"===e.pointerType&&this.realElement.focus(),this.pressedFlag=!1,this.fakeElement.removeClass(this.options.pressedClass),this.doc.off("jcf-pointerup",this.onSelectAreaRelease)},onOutsideClick:function(e){var s=t(e.target);s.closest(this.fakeElement).length||s.closest(this.dropdown).length||this.hideDropdown()},onSelect:function(){this.refresh(),this.realElement.prop("multiple")?this.repositionDropdown():this.hideDropdown(),this.fireNativeEvent(this.realElement,"change")},toggleListMode:function(e){this.options.wrapNative||(e?this.realElement.attr({size:4,"jcf-size":""}):this.options.wrapNative||this.realElement.removeAttr("size jcf-size"))},createDropdown:function(){this.dropdown&&(this.list.destroy(),this.dropdown.remove()),this.dropdown=t(this.options.fakeDropStructure).appendTo(this.fakeDropTarget),this.dropdown.addClass(l(this.realElement.prop("className"),this.options.selectClassPrefix)),r(this.dropdown),this.realElement.prop("multiple")&&this.dropdown.addClass("jcf-compact-multiple"),this.options.fakeDropInBody&&this.dropdown.css({position:"absolute",top:-9999}),this.list=new o({useHoverClass:!0,handleResize:!1,alwaysPreventMouseWheel:!0,maxVisibleItems:this.options.maxVisibleItems,useCustomScroll:this.options.useCustomScroll,holder:this.dropdown.find(this.options.dropContentSelector),multipleSelectWithoutKey:this.realElement.prop("multiple"),element:this.realElement}),t(this.list).on({select:this.onSelect,press:this.onSelectDropPress,release:this.onSelectDropRelease})},repositionDropdown:function(){var e,t,s,i=this.fakeElement.offset(),n=this.fakeElement[0].getBoundingClientRect(),o=n.width||n.right-n.left,a=this.fakeElement.outerHeight(),l=this.dropdown.css("width",o).outerHeight(),r=this.win.scrollTop(),c=this.win.height(),h=!1;i.top+a+l>r+c&&i.top-l>r&&(h=!0),this.options.fakeDropInBody&&(s="static"!==this.fakeDropTarget.css("position")?this.fakeDropTarget.offset().top:0,this.options.flipDropToFit&&h?(t=i.left,e=i.top-l-s):(t=i.left,e=i.top+a-s),this.dropdown.css({width:o,left:t,top:e})),this.dropdown.add(this.fakeElement).toggleClass(this.options.flipDropClass,this.options.flipDropToFit&&h)},showDropdown:function(){this.realElement.prop("options").length&&(this.dropdown||this.createDropdown(),this.dropActive=!0,this.dropdown.appendTo(this.fakeDropTarget),this.fakeElement.addClass(this.options.dropActiveClass),this.refreshSelectedText(),this.repositionDropdown(),this.list.setScrollTop(this.savedScrollTop),this.list.refresh(),this.win.on("resize",this.onResize),this.doc.on("jcf-pointerdown",this.onOutsideClick))},hideDropdown:function(){this.dropdown&&(this.savedScrollTop=this.list.getScrollTop(),this.fakeElement.removeClass(this.options.dropActiveClass+" "+this.options.flipDropClass),this.dropdown.removeClass(this.options.flipDropClass).detach(),this.doc.off("jcf-pointerdown",this.onOutsideClick),this.win.off("resize",this.onResize),this.dropActive=!1,"touch"===this.selectOpenedByEvent&&this.onBlur())},toggleDropdown:function(){this.dropActive?this.hideDropdown():this.showDropdown()},refreshSelectedText:function(){var e,s=this.realElement.prop("selectedIndex"),i=this.realElement.prop("options")[s],n=i?i.getAttribute("data-image"):null,o="";this.realElement.prop("multiple")?(t.each(this.realElement.prop("options"),(function(e,t){t.selected&&(o+=(o?", ":"")+t.innerHTML)})),o||(o=this.realElement.attr("placeholder")||""),this.selectText.removeAttr("class").html(o)):i?this.currentSelectedText===i.innerHTML&&this.currentSelectedImage===n||(e=l(i.className,this.options.optionClassPrefix),this.selectText.attr("class",e).html(i.innerHTML),n?(this.selectImage||(this.selectImage=t("<img>").prependTo(this.selectTextContainer).hide()),this.selectImage.attr("src",n).show()):this.selectImage&&this.selectImage.hide(),this.currentSelectedText=i.innerHTML,this.currentSelectedImage=n):(this.selectImage&&this.selectImage.hide(),this.selectText.removeAttr("class").empty())},refresh:function(){"none"===this.realElement.prop("style").display?this.fakeElement.hide():this.fakeElement.show(),this.refreshSelectedText(),this.fakeElement.toggleClass(this.options.disabledClass,this.realElement.is(":disabled"))},destroy:function(){this.options.wrapNative?this.realElement.insertBefore(this.fakeElement).css({position:"",height:"",width:""}).removeClass(this.options.resetAppearanceClass):(this.realElement.removeClass(this.options.hiddenClass),this.realElement.is("[jcf-size]")&&this.realElement.removeAttr("size jcf-size")),this.fakeElement.remove(),this.doc.off("jcf-pointerup",this.onSelectAreaRelease),this.realElement.off({focus:this.onFocus})}}),t.extend(n.prototype,{init:function(){this.bindHandlers(),this.initStructure(),this.attachEvents()},initStructure:function(){this.realElement=t(this.options.element),this.fakeElement=t(this.options.fakeStructure).insertAfter(this.realElement),this.listHolder=this.fakeElement.find(this.options.listHolder),r(this.fakeElement),this.fakeElement.addClass(l(this.realElement.prop("className"),this.options.selectClassPrefix)),this.realElement.addClass(this.options.hiddenClass),this.list=new o({useCustomScroll:this.options.useCustomScroll,holder:this.listHolder,selectOnClick:!1,element:this.realElement})},attachEvents:function(){var e=this;this.delayedRefresh=function(t){t&&(16===t.which||t.ctrlKey||t.metaKey||t.altKey)||(clearTimeout(e.refreshTimer),e.refreshTimer=setTimeout((function(){e.refresh(),e.list.scrollToActiveOption()}),1))},this.realElement.on({focus:this.onFocus,click:this.delayedRefresh,keydown:this.delayedRefresh}),t(this.list).on({select:this.onSelect,press:this.onFakeOptionsPress,release:this.onFakeOptionsRelease})},onFakeOptionsPress:function(e,t){this.pressedFlag=!0,"mouse"===t.pointerType&&this.realElement.focus()},onFakeOptionsRelease:function(e,t){this.pressedFlag=!1,"mouse"===t.pointerType&&this.realElement.focus()},onSelect:function(){this.fireNativeEvent(this.realElement,"change"),this.fireNativeEvent(this.realElement,"click")},onFocus:function(){this.pressedFlag&&this.focusedFlag||(this.fakeElement.addClass(this.options.focusClass),this.realElement.on("blur",this.onBlur),this.focusedFlag=!0)},onBlur:function(){this.pressedFlag||(this.fakeElement.removeClass(this.options.focusClass),this.realElement.off("blur",this.onBlur),this.focusedFlag=!1)},refresh:function(){this.fakeElement.toggleClass(this.options.disabledClass,this.realElement.is(":disabled")),this.list.refresh()},destroy:function(){this.list.destroy(),this.realElement.insertBefore(this.fakeElement).removeClass(this.options.hiddenClass),this.fakeElement.remove()}}),t.extend(o.prototype,{init:function(){this.initStructure(),this.refreshSelectedClass(),this.attachEvents()},initStructure:function(){this.element=t(this.options.element),this.indexSelector="["+this.options.indexAttribute+"]",this.container=t(this.options.containerStructure).appendTo(this.options.holder),this.listHolder=this.container.find(this.options.containerSelector),this.lastClickedIndex=this.element.prop("selectedIndex"),this.rebuildList(),this.element.prop("multiple")&&(this.previousSelection=this.getSelectedOptionsIndexes())},attachEvents:function(){this.bindHandlers(),this.listHolder.on("jcf-pointerdown",this.indexSelector,this.onItemPress),this.listHolder.on("jcf-pointerdown",this.onPress),this.options.useHoverClass&&this.listHolder.on("jcf-pointerover",this.indexSelector,this.onHoverItem)},onPress:function(e){t(this).trigger("press",e),this.listHolder.on("jcf-pointerup",this.onRelease)},onRelease:function(e){t(this).trigger("release",e),this.listHolder.off("jcf-pointerup",this.onRelease)},onHoverItem:function(e){var t=parseFloat(e.currentTarget.getAttribute(this.options.indexAttribute));this.fakeOptions.removeClass(this.options.hoverClass).eq(t).addClass(this.options.hoverClass)},onItemPress:function(e){"touch"===e.pointerType||this.options.selectOnClick?(this.tmpListOffsetTop=this.list.offset().top,this.listHolder.on("jcf-pointerup",this.indexSelector,this.onItemRelease)):this.onSelectItem(e)},onItemRelease:function(e){this.listHolder.off("jcf-pointerup",this.indexSelector,this.onItemRelease),this.tmpListOffsetTop===this.list.offset().top&&this.listHolder.on("click",this.indexSelector,{savedPointerType:e.pointerType},this.onSelectItem),delete this.tmpListOffsetTop},onSelectItem:function(e){var s,i=parseFloat(e.currentTarget.getAttribute(this.options.indexAttribute)),n=e.data&&e.data.savedPointerType||e.pointerType||"mouse";this.listHolder.off("click",this.indexSelector,this.onSelectItem),e.button>1||this.realOptions[i].disabled||(this.element.prop("multiple")?e.metaKey||e.ctrlKey||"touch"===n||this.options.multipleSelectWithoutKey?this.realOptions[i].selected=!this.realOptions[i].selected:e.shiftKey?(s=[this.lastClickedIndex,i].sort((function(e,t){return e-t})),this.realOptions.each((function(e,t){t.selected=e>=s[0]&&e<=s[1]}))):this.element.prop("selectedIndex",i):this.element.prop("selectedIndex",i),e.shiftKey||(this.lastClickedIndex=i),this.refreshSelectedClass(),"mouse"===n&&this.scrollToActiveOption(),t(this).trigger("select"))},rebuildList:function(){var s=this,i=this.element[0];this.storedSelectHTML=i.innerHTML,this.optionIndex=0,this.list=t(this.createOptionsList(i)),this.listHolder.empty().append(this.list),this.realOptions=this.element.find("option"),this.fakeOptions=this.list.find(this.indexSelector),this.fakeListItems=this.list.find("."+this.options.captionClass+","+this.indexSelector),delete this.optionIndex;var n=this.options.maxVisibleItems,o=this.element.prop("size");o>1&&!this.element.is("[jcf-size]")&&(n=o);var a=this.fakeOptions.length>n;return this.container.toggleClass(this.options.scrollClass,a),a&&(this.listHolder.css({maxHeight:this.getOverflowHeight(n),overflow:"auto"}),this.options.useCustomScroll&&e.modules.Scrollable)?void e.replace(this.listHolder,"Scrollable",{handleResize:this.options.handleResize,alwaysPreventMouseWheel:this.options.alwaysPreventMouseWheel}):void(this.options.alwaysPreventMouseWheel&&(this.preventWheelHandler=function(e){var t=s.listHolder.scrollTop(),i=s.listHolder.prop("scrollHeight")-s.listHolder.innerHeight();(0>=t&&e.deltaY<0||t>=i&&e.deltaY>0)&&e.preventDefault()},this.listHolder.on("jcf-mousewheel",this.preventWheelHandler)))},refreshSelectedClass:function(){var e,t=this,s=this.element.prop("multiple"),i=this.element.prop("selectedIndex");s?this.realOptions.each((function(e,s){t.fakeOptions.eq(e).toggleClass(t.options.selectedClass,!!s.selected)})):(this.fakeOptions.removeClass(this.options.selectedClass+" "+this.options.hoverClass),e=this.fakeOptions.eq(i).addClass(this.options.selectedClass),this.options.useHoverClass&&e.addClass(this.options.hoverClass))},scrollToActiveOption:function(){var e=this.getActiveOptionOffset();"number"==typeof e&&this.listHolder.prop("scrollTop",e)},getSelectedOptionsIndexes:function(){var e=[];return this.realOptions.each((function(t,s){s.selected&&e.push(t)})),e},getChangedSelectedIndex:function(){var e=this.element.prop("selectedIndex"),s=this,i=!1,n=null;return this.element.prop("multiple")?(this.currentSelection=this.getSelectedOptionsIndexes(),t.each(this.currentSelection,(function(e,t){!i&&s.previousSelection.indexOf(t)<0&&(0===e&&(i=!0),n=t)})),this.previousSelection=this.currentSelection,n):e},getActiveOptionOffset:function(){var e=this.getChangedSelectedIndex();if(null!==e){var t=this.listHolder.height(),s=this.listHolder.prop("scrollTop"),i=this.fakeOptions.eq(e),n=i.offset().top-this.list.offset().top,o=i.innerHeight();return n+o>=s+t?n-t+o:s>n?n:void 0}},getOverflowHeight:function(e){var t=this.fakeListItems.eq(e-1),s=this.list.offset().top;return t.offset().top+t.innerHeight()-s},getScrollTop:function(){return this.listHolder.scrollTop()},setScrollTop:function(e){this.listHolder.scrollTop(e)},createOption:function(e){var t=document.createElement("span");t.className=this.options.optionClass,t.innerHTML=e.innerHTML,
t.setAttribute(this.options.indexAttribute,this.optionIndex++);var s,i=e.getAttribute("data-image");return i&&((s=document.createElement("img")).src=i,t.insertBefore(s,t.childNodes[0])),e.disabled&&(t.className+=" "+this.options.disabledClass),e.className&&(t.className+=" "+l(e.className,this.options.cloneClassPrefix)),t},createOptGroup:function(e){var t,s,i=document.createElement("span"),n=e.getAttribute("label");return(t=document.createElement("span")).className=this.options.captionClass,t.innerHTML=n,i.appendChild(t),e.children.length&&(s=this.createOptionsList(e),i.appendChild(s)),i.className=this.options.groupClass,i},createOptionContainer:function(){return document.createElement("li")},createOptionsList:function(e){var s=this,i=document.createElement("ul");return t.each(e.children,(function(e,t){var n,o=s.createOptionContainer(t);switch(t.tagName.toLowerCase()){case"option":n=s.createOption(t);break;case"optgroup":n=s.createOptGroup(t)}i.appendChild(o).appendChild(n)})),i},refresh:function(){this.storedSelectHTML!==this.element.prop("innerHTML")&&this.rebuildList();var t=e.getInstance(this.listHolder);t&&t.refresh(),this.refreshSelectedClass()},destroy:function(){this.listHolder.off("jcf-mousewheel",this.preventWheelHandler),this.listHolder.off("jcf-pointerdown",this.indexSelector,this.onSelectItem),this.listHolder.off("jcf-pointerover",this.indexSelector,this.onHoverItem),this.listHolder.off("jcf-pointerdown",this.onPress)}});var l=function(e,t){return e?e.replace(/[\s]*([\S]+)+[\s]*/gi,t+"$1 "):""},r=function(){function t(e){e.preventDefault()}var s=e.getOptions().unselectableClass;return function(e){e.addClass(s).on("selectstart",t)}}();return a}))}(jcf),jcf.addModule((function(e){"use strict";return{name:"Checkbox",selector:'input[type="checkbox"]',options:{wrapNative:!0,checkedClass:"jcf-checked",uncheckedClass:"jcf-unchecked",labelActiveClass:"jcf-label-active",fakeStructure:'<span class="jcf-checkbox"><span></span></span>'},matchElement:function(e){return e.is(":checkbox")},init:function(){this.initStructure(),this.attachEvents(),this.refresh()},initStructure:function(){this.doc=e(document),this.realElement=e(this.options.element),this.fakeElement=e(this.options.fakeStructure).insertAfter(this.realElement),this.labelElement=this.getLabelFor(),this.options.wrapNative?this.realElement.appendTo(this.fakeElement).css({position:"absolute",height:"100%",width:"100%",opacity:0,margin:0}):this.realElement.addClass(this.options.hiddenClass)},attachEvents:function(){this.realElement.on({focus:this.onFocus,click:this.onRealClick}),this.fakeElement.on("click",this.onFakeClick),this.fakeElement.on("jcf-pointerdown",this.onPress)},onRealClick:function(e){var t=this;this.savedEventObject=e,setTimeout((function(){t.refresh()}),0)},onFakeClick:function(e){this.options.wrapNative&&this.realElement.is(e.target)||this.realElement.is(":disabled")||(delete this.savedEventObject,this.stateChecked=this.realElement.prop("checked"),this.realElement.prop("checked",!this.stateChecked),this.fireNativeEvent(this.realElement,"click"),this.savedEventObject&&this.savedEventObject.isDefaultPrevented()?this.realElement.prop("checked",this.stateChecked):this.fireNativeEvent(this.realElement,"change"),delete this.savedEventObject)},onFocus:function(){this.pressedFlag&&this.focusedFlag||(this.focusedFlag=!0,this.fakeElement.addClass(this.options.focusClass),this.realElement.on("blur",this.onBlur))},onBlur:function(){this.pressedFlag||(this.focusedFlag=!1,this.fakeElement.removeClass(this.options.focusClass),this.realElement.off("blur",this.onBlur))},onPress:function(e){this.focusedFlag||"mouse"!==e.pointerType||this.realElement.focus(),this.pressedFlag=!0,this.fakeElement.addClass(this.options.pressedClass),this.doc.on("jcf-pointerup",this.onRelease)},onRelease:function(e){this.focusedFlag&&"mouse"===e.pointerType&&this.realElement.focus(),this.pressedFlag=!1,this.fakeElement.removeClass(this.options.pressedClass),this.doc.off("jcf-pointerup",this.onRelease)},getLabelFor:function(){var t=this.realElement.closest("label"),s=this.realElement.prop("id");return!t.length&&s&&(t=e('label[for="'+s+'"]')),t.length?t:null},refresh:function(){var e=this.realElement.is(":checked"),t=this.realElement.is(":disabled");this.fakeElement.toggleClass(this.options.checkedClass,e).toggleClass(this.options.uncheckedClass,!e).toggleClass(this.options.disabledClass,t),this.labelElement&&this.labelElement.toggleClass(this.options.labelActiveClass,e)},destroy:function(){this.options.wrapNative?this.realElement.insertBefore(this.fakeElement).css({position:"",width:"",height:"",opacity:"",margin:""}):this.realElement.removeClass(this.options.hiddenClass),this.fakeElement.off("jcf-pointerdown",this.onPress),this.fakeElement.remove(),this.doc.off("jcf-pointerup",this.onRelease),this.realElement.off({focus:this.onFocus,click:this.onRealClick})}}})),function(e){e.addModule((function(t){"use strict";return{name:"Radio",selector:'input[type="radio"]',options:{wrapNative:!0,checkedClass:"jcf-checked",uncheckedClass:"jcf-unchecked",labelActiveClass:"jcf-label-active",fakeStructure:'<span class="jcf-radio"><span></span></span>'},matchElement:function(e){return e.is(":radio")},init:function(){this.initStructure(),this.attachEvents(),this.refresh()},initStructure:function(){this.doc=t(document),this.realElement=t(this.options.element),this.fakeElement=t(this.options.fakeStructure).insertAfter(this.realElement),this.labelElement=this.getLabelFor(),this.options.wrapNative?this.realElement.prependTo(this.fakeElement).css({position:"absolute",opacity:0}):this.realElement.addClass(this.options.hiddenClass)},attachEvents:function(){this.realElement.on({focus:this.onFocus,click:this.onRealClick}),this.fakeElement.on("click",this.onFakeClick),this.fakeElement.on("jcf-pointerdown",this.onPress)},onRealClick:function(e){var t=this;this.savedEventObject=e,setTimeout((function(){t.refreshRadioGroup()}),0)},onFakeClick:function(e){this.options.wrapNative&&this.realElement.is(e.target)||this.realElement.is(":disabled")||(delete this.savedEventObject,this.currentActiveRadio=this.getCurrentActiveRadio(),this.stateChecked=this.realElement.prop("checked"),this.realElement.prop("checked",!0),this.fireNativeEvent(this.realElement,"click"),this.savedEventObject&&this.savedEventObject.isDefaultPrevented()?(this.realElement.prop("checked",this.stateChecked),this.currentActiveRadio.prop("checked",!0)):this.fireNativeEvent(this.realElement,"change"),delete this.savedEventObject)},onFocus:function(){this.pressedFlag&&this.focusedFlag||(this.focusedFlag=!0,this.fakeElement.addClass(this.options.focusClass),this.realElement.on("blur",this.onBlur))},onBlur:function(){this.pressedFlag||(this.focusedFlag=!1,this.fakeElement.removeClass(this.options.focusClass),this.realElement.off("blur",this.onBlur))},onPress:function(e){this.focusedFlag||"mouse"!==e.pointerType||this.realElement.focus(),this.pressedFlag=!0,this.fakeElement.addClass(this.options.pressedClass),this.doc.on("jcf-pointerup",this.onRelease)},onRelease:function(e){this.focusedFlag&&"mouse"===e.pointerType&&this.realElement.focus(),this.pressedFlag=!1,this.fakeElement.removeClass(this.options.pressedClass),this.doc.off("jcf-pointerup",this.onRelease)},getCurrentActiveRadio:function(){return this.getRadioGroup(this.realElement).filter(":checked")},getRadioGroup:function(e){var s=e.attr("name"),i=e.parents("form");return s?i.length?i.find('input[name="'+s+'"]'):t('input[name="'+s+'"]:not(form input)'):e},getLabelFor:function(){var e=this.realElement.closest("label"),s=this.realElement.prop("id");return!e.length&&s&&(e=t('label[for="'+s+'"]')),e.length?e:null},refreshRadioGroup:function(){this.getRadioGroup(this.realElement).each((function(){e.refresh(this)}))},refresh:function(){var e=this.realElement.is(":checked"),t=this.realElement.is(":disabled");this.fakeElement.toggleClass(this.options.checkedClass,e).toggleClass(this.options.uncheckedClass,!e).toggleClass(this.options.disabledClass,t),this.labelElement&&this.labelElement.toggleClass(this.options.labelActiveClass,e)},destroy:function(){this.options.wrapNative?this.realElement.insertBefore(this.fakeElement).css({position:"",width:"",height:"",opacity:"",margin:""}):this.realElement.removeClass(this.options.hiddenClass),this.fakeElement.off("jcf-pointerdown",this.onPress),this.fakeElement.remove(),this.doc.off("jcf-pointerup",this.onRelease),this.realElement.off({blur:this.onBlur,focus:this.onFocus,click:this.onRealClick})}}}))}(jcf),jcf.addModule((function(e){"use strict";return{name:"Number",selector:'input[type="number"]',options:{realElementClass:"jcf-real-element",fakeStructure:'<span class="jcf-number"><span class="jcf-btn-inc"></span><span class="jcf-btn-dec"></span></span>',btnIncSelector:".jcf-btn-inc",btnDecSelector:".jcf-btn-dec",pressInterval:150},matchElement:function(e){return e.is(this.selector)},init:function(){this.initStructure(),this.attachEvents(),this.refresh()},initStructure:function(){this.page=e("html"),this.realElement=e(this.options.element).addClass(this.options.realElementClass),this.fakeElement=e(this.options.fakeStructure).insertBefore(this.realElement).prepend(this.realElement),this.btnDec=this.fakeElement.find(this.options.btnDecSelector),this.btnInc=this.fakeElement.find(this.options.btnIncSelector),this.initialValue=parseFloat(this.realElement.val())||0,this.minValue=parseFloat(this.realElement.attr("min")),this.maxValue=parseFloat(this.realElement.attr("max")),this.stepValue=parseFloat(this.realElement.attr("step"))||1,this.minValue=isNaN(this.minValue)?-1/0:this.minValue,this.maxValue=isNaN(this.maxValue)?1/0:this.maxValue,isFinite(this.maxValue)&&(this.maxValue-=(this.maxValue-this.minValue)%this.stepValue)},attachEvents:function(){this.realElement.on({focus:this.onFocus}),this.btnDec.add(this.btnInc).on("jcf-pointerdown",this.onBtnPress)},onBtnPress:function(e){var t,s=this;this.realElement.is(":disabled")||(t=this.btnInc.is(e.currentTarget),s.step(t),clearInterval(this.stepTimer),this.stepTimer=setInterval((function(){s.step(t)}),this.options.pressInterval),this.page.on("jcf-pointerup",this.onBtnRelease))},onBtnRelease:function(){clearInterval(this.stepTimer),this.page.off("jcf-pointerup",this.onBtnRelease)},onFocus:function(){this.fakeElement.addClass(this.options.focusClass),this.realElement.on({blur:this.onBlur,keydown:this.onKeyPress})},onBlur:function(){this.fakeElement.removeClass(this.options.focusClass),this.realElement.off({blur:this.onBlur,keydown:this.onKeyPress})},onKeyPress:function(e){38!==e.which&&40!==e.which||(e.preventDefault(),this.step(38===e.which))},step:function(e){var t=parseFloat(this.realElement.val()),s=t||0,i=this.stepValue*(e?1:-1),n=isFinite(this.minValue)?this.minValue:this.initialValue-Math.abs(s*this.stepValue),o=Math.abs(n-s)%this.stepValue;o?e?s+=i-o:s-=o:s+=i,s<this.minValue?s=this.minValue:s>this.maxValue&&(s=this.maxValue),s!==t&&(this.realElement.val(s).trigger("change"),this.refresh())},refresh:function(){var e=this.realElement.is(":disabled"),t=parseFloat(this.realElement.val());this.fakeElement.toggleClass(this.options.disabledClass,e),this.btnDec.toggleClass(this.options.disabledClass,t===this.minValue),this.btnInc.toggleClass(this.options.disabledClass,t===this.maxValue)},destroy:function(){this.realElement.removeClass(this.options.realElementClass).insertBefore(this.fakeElement),this.fakeElement.remove(),clearInterval(this.stepTimer),this.page.off("jcf-pointerup",this.onBtnRelease),this.realElement.off({keydown:this.onKeyPress,focus:this.onFocus,blur:this.onBlur})}}})),jcf.addModule((function(e){"use strict";return{name:"File",selector:'input[type="file"]',options:{fakeStructure:'<span class="jcf-file"><span class="jcf-fake-input"></span><span class="jcf-upload-button"><span class="jcf-button-content"></span></span></span>',buttonText:"Choose file",placeholderText:"No file chosen",realElementClass:"jcf-real-element",extensionPrefixClass:"jcf-extension-",selectedFileBlock:".jcf-fake-input",buttonTextBlock:".jcf-button-content"},matchElement:function(e){return e.is('input[type="file"]')},init:function(){this.initStructure(),this.attachEvents(),this.refresh()},initStructure:function(){this.doc=e(document),this.realElement=e(this.options.element).addClass(this.options.realElementClass),this.fakeElement=e(this.options.fakeStructure).insertBefore(this.realElement),this.fileNameBlock=this.fakeElement.find(this.options.selectedFileBlock),this.buttonTextBlock=this.fakeElement.find(this.options.buttonTextBlock).text(this.options.buttonText),this.realElement.appendTo(this.fakeElement).css({position:"absolute",opacity:0})},attachEvents:function(){this.realElement.on({"jcf-pointerdown":this.onPress,change:this.onChange,focus:this.onFocus})},onChange:function(){this.refresh()},onFocus:function(){this.fakeElement.addClass(this.options.focusClass),this.realElement.on("blur",this.onBlur)},onBlur:function(){this.fakeElement.removeClass(this.options.focusClass),this.realElement.off("blur",this.onBlur)},onPress:function(){this.fakeElement.addClass(this.options.pressedClass),this.doc.on("jcf-pointerup",this.onRelease)},onRelease:function(){this.fakeElement.removeClass(this.options.pressedClass),this.doc.off("jcf-pointerup",this.onRelease)},getFileName:function(){var t="",s=this.realElement.prop("files");return s&&s.length?e.each(s,(function(e,s){t+=(e>0?", ":"")+s.name})):t=this.realElement.val().replace(/^[\s\S]*(?:\\|\/)([\s\S^\\\/]*)$/g,"$1"),t},getFileExtension:function(){var e=this.realElement.val();return e.lastIndexOf(".")<0?"":e.substring(e.lastIndexOf(".")+1).toLowerCase()},updateExtensionClass:function(){var e=this.getFileExtension(),t=this.fakeElement.prop("className").replace(new RegExp("(\\s|^)"+this.options.extensionPrefixClass+"[^ ]+","gi"),"");this.fakeElement.prop("className",t),e&&this.fakeElement.addClass(this.options.extensionPrefixClass+e)},refresh:function(){var e=this.getFileName()||this.options.placeholderText;this.fakeElement.toggleClass(this.options.disabledClass,this.realElement.is(":disabled")),this.fileNameBlock.text(e),this.updateExtensionClass()},destroy:function(){this.realElement.insertBefore(this.fakeElement).removeClass(this.options.realElementClass).css({position:"",opacity:""}),this.fakeElement.remove(),this.realElement.off({"jcf-pointerdown":this.onPress,change:this.onChange,focus:this.onFocus,blur:this.onBlur}),this.doc.off("jcf-pointerup",this.onRelease)}}})),jcf.addModule((function(e){"use strict";return{name:"Range",selector:'input[type="range"]',options:{realElementClass:"jcf-real-element",fakeStructure:'<span class="jcf-range"><span class="jcf-range-wrapper"><span class="jcf-range-track"><span class="jcf-range-handle"></span></span></span></span>',dataListMark:'<span class="jcf-range-mark"></span>',rangeDisplayWrapper:'<span class="jcf-range-display-wrapper"></span>',rangeDisplay:'<span class="jcf-range-display"></span>',handleSelector:".jcf-range-handle",trackSelector:".jcf-range-track",activeHandleClass:"jcf-active-handle",verticalClass:"jcf-vertical",orientation:"horizontal",range:!1,dragHandleCenter:!0,snapToMarks:!0,snapRadius:5,minRange:0},matchElement:function(e){return e.is(this.selector)},init:function(){this.initStructure(),this.attachEvents(),this.refresh()},initStructure:function(){for(this.page=e("html"),this.realElement=e(this.options.element).addClass(this.options.hiddenClass),this.fakeElement=e(this.options.fakeStructure).insertBefore(this.realElement).prepend(this.realElement),this.track=this.fakeElement.find(this.options.trackSelector),this.trackHolder=this.track.parent(),this.handle=this.fakeElement.find(this.options.handleSelector),this.createdHandleCount=0,this.activeDragHandleIndex=0,this.isMultiple=this.realElement.prop("multiple")||"string"==typeof this.realElement.attr("multiple"),this.values=this.isMultiple?this.realElement.attr("value").split(","):[this.realElement.val()],this.handleCount=this.isMultiple?this.values.length:1,this.rangeDisplayWrapper=e(this.options.rangeDisplayWrapper).insertBefore(this.track),"min"!==this.options.range&&"all"!==this.options.range||(this.rangeMin=e(this.options.rangeDisplay).addClass("jcf-range-min").prependTo(this.rangeDisplayWrapper)),"max"!==this.options.range&&"all"!==this.options.range||(this.rangeMax=e(this.options.rangeDisplay).addClass("jcf-range-max").prependTo(this.rangeDisplayWrapper));this.createdHandleCount<this.handleCount;)this.createdHandleCount++,this.handle.clone().addClass("jcf-index-"+this.createdHandleCount).insertBefore(this.handle),this.createdHandleCount>1&&(this.rangeMid||(this.rangeMid=e()),this.rangeMid=this.rangeMid.add(e(this.options.rangeDisplay).addClass("jcf-range-mid").prependTo(this.rangeDisplayWrapper)));this.handle.detach(),this.handle=null,this.handles=this.fakeElement.find(this.options.handleSelector),this.handles.eq(0).addClass(this.options.activeHandleClass),this.isVertical="vertical"===this.options.orientation,this.directionProperty=this.isVertical?"top":"left",this.offsetProperty=this.isVertical?"bottom":"left",this.eventProperty=this.isVertical?"pageY":"pageX",this.sizeProperty=this.isVertical?"height":"width",this.sizeMethod=this.isVertical?"innerHeight":"innerWidth",this.fakeElement.css("touchAction",this.isVertical?"pan-x":"pan-y"),this.isVertical&&this.fakeElement.addClass(this.options.verticalClass),this.minValue=parseFloat(this.realElement.attr("min")),this.maxValue=parseFloat(this.realElement.attr("max")),this.stepValue=parseFloat(this.realElement.attr("step"))||1,this.minValue=isNaN(this.minValue)?0:this.minValue,this.maxValue=isNaN(this.maxValue)?100:this.maxValue,1!==this.stepValue&&(this.maxValue-=(this.maxValue-this.minValue)%this.stepValue),this.stepsCount=(this.maxValue-this.minValue)/this.stepValue,this.createDataList()},attachEvents:function(){this.realElement.on({focus:this.onFocus}),this.trackHolder.on("jcf-pointerdown",this.onTrackPress),this.handles.on("jcf-pointerdown",this.onHandlePress)},createDataList:function(){var t=this,s=[],i=this.realElement.attr("list");i&&(e("#"+i).find("option").each((function(){var i,n=parseFloat(this.value||this.innerHTML);isNaN(n)||(i=t.valueToOffset(n),s.push({value:n,offset:i}),e(t.options.dataListMark).text(n).attr({"data-mark-value":n}).css(t.offsetProperty,i+"%").appendTo(t.track))})),s.length&&(t.dataValues=s))},getDragHandleRange:function(e){var t=-1/0,s=1/0;return e>0&&(t=this.valueToStepIndex(parseFloat(this.values[e-1])+this.options.minRange)),e<this.handleCount-1&&(s=this.valueToStepIndex(parseFloat(this.values[e+1])-this.options.minRange)),{minStepIndex:t,maxStepIndex:s}},getNearestHandle:function(t){this.isVertical&&(t=1-t);var s=this.handles.eq(0),i=1/0,n=this;return this.handleCount>1&&this.handles.each((function(){var o=parseFloat(this.style[n.offsetProperty])/100,a=Math.abs(o-t);i>a&&(i=a,s=e(this))})),s},onTrackPress:function(e){var t,s,i;e.preventDefault(),this.realElement.is(":disabled")||this.activeDragHandle||(t=this.track[this.sizeMethod](),s=this.track.offset()[this.directionProperty],this.activeDragHandle=this.getNearestHandle((e[this.eventProperty]-s)/this.trackHolder[this.sizeMethod]()),this.activeDragHandleIndex=this.handles.index(this.activeDragHandle),this.handles.removeClass(this.options.activeHandleClass).eq(this.activeDragHandleIndex).addClass(this.options.activeHandleClass),i=this.activeDragHandle[this.sizeMethod]()/2,this.dragData={trackSize:t,innerOffset:i,trackOffset:s,min:s,max:s+t},this.page.on({"jcf-pointermove":this.onHandleMove,"jcf-pointerup":this.onHandleRelease}),"mouse"===e.pointerType&&this.realElement.focus(),this.onHandleMove(e))},onHandlePress:function(t){var s,i,n;t.preventDefault(),this.realElement.is(":disabled")||this.activeDragHandle||(this.activeDragHandle=e(t.currentTarget),this.activeDragHandleIndex=this.handles.index(this.activeDragHandle),this.handles.removeClass(this.options.activeHandleClass).eq(this.activeDragHandleIndex).addClass(this.options.activeHandleClass),s=this.track[this.sizeMethod](),i=this.track.offset()[this.directionProperty],n=this.options.dragHandleCenter?this.activeDragHandle[this.sizeMethod]()/2:t[this.eventProperty]-this.handle.offset()[this.directionProperty],this.dragData={trackSize:s,innerOffset:n,trackOffset:i,min:i,max:i+s},this.page.on({"jcf-pointermove":this.onHandleMove,"jcf-pointerup":this.onHandleRelease}),"mouse"===t.pointerType&&this.realElement.focus())},onHandleMove:function(t){var s,i,n,o,a,l=this;if((s=this.isVertical?this.dragData.max+(this.dragData.min-t[this.eventProperty])-this.dragData.innerOffset:t[this.eventProperty]-this.dragData.innerOffset)<this.dragData.min?s=this.dragData.min:s>this.dragData.max&&(s=this.dragData.max),t.preventDefault(),this.options.snapToMarks&&this.dataValues){var r=s-this.dragData.trackOffset;i=(s-this.dragData.trackOffset)/this.dragData.trackSize*100,e.each(this.dataValues,(function(e,t){var s=t.offset/100*l.dragData.trackSize,n=s-l.options.snapRadius,o=s+l.options.snapRadius;return r>=n&&o>=r?(i=t.offset,!1):void 0}))}else i=(s-this.dragData.trackOffset)/this.dragData.trackSize*100;n=Math.round(i*this.stepsCount/100),this.handleCount>1&&(n<(a=this.getDragHandleRange(this.activeDragHandleIndex)).minStepIndex?n=Math.max(a.minStepIndex,n):n>a.maxStepIndex&&(n=Math.min(a.maxStepIndex,n))),o=n*(100/this.stepsCount),this.dragData.stepIndex!==n&&(this.dragData.stepIndex=n,this.dragData.offset=o,this.activeDragHandle.css(this.offsetProperty,this.dragData.offset+"%"),this.values[this.activeDragHandleIndex]=""+this.stepIndexToValue(n),this.updateValues(),this.realElement.trigger("input"))},onHandleRelease:function(){var e;"number"==typeof this.dragData.offset&&(e=this.stepIndexToValue(this.dragData.stepIndex),this.realElement.val(e).trigger("change")),this.page.off({"jcf-pointermove":this.onHandleMove,"jcf-pointerup":this.onHandleRelease}),delete this.activeDragHandle,delete this.dragData},onFocus:function(){this.fakeElement.hasClass(this.options.focusClass)||(this.fakeElement.addClass(this.options.focusClass),this.realElement.on({blur:this.onBlur,keydown:this.onKeyPress}))},onBlur:function(){this.fakeElement.removeClass(this.options.focusClass),this.realElement.off({blur:this.onBlur,keydown:this.onKeyPress})},onKeyPress:function(e){var t=38===e.which||39===e.which,s=37===e.which||40===e.which;if(9===e.which&&this.handleCount>1){if(e.shiftKey&&this.activeDragHandleIndex>0)this.activeDragHandleIndex--;else{if(e.shiftKey||!(this.activeDragHandleIndex<this.handleCount-1))return;this.activeDragHandleIndex++}e.preventDefault(),this.handles.removeClass(this.options.activeHandleClass).eq(this.activeDragHandleIndex).addClass(this.options.activeHandleClass)}(s||t)&&(e.preventDefault(),this.step(t?this.stepValue:-this.stepValue))},updateValues:function(){var e=this.values.join(",");this.values.length>1?(this.realElement.prop("valueLow",this.values[0]),this.realElement.prop("valueHigh",this.values[this.values.length-1]),this.realElement.val(e),this.realElement.val()!==e&&this.realElement.val(this.values[this.values.length-1])):this.realElement.val(e),this.updateRanges()},updateRanges:function(){var e,t=this;this.rangeMin&&(e=this.handles[0],this.rangeMin.css(this.offsetProperty,0).css(this.sizeProperty,e.style[this.offsetProperty])),this.rangeMax&&(e=this.handles[this.handles.length-1],this.rangeMax.css(this.offsetProperty,e.style[this.offsetProperty]).css(this.sizeProperty,100-parseFloat(e.style[this.offsetProperty])+"%")),this.rangeMid&&this.handles.each((function(e,s){var i,n;e>0&&(i=t.handles[e-1],(n=t.rangeMid[e-1]).style[t.offsetProperty]=i.style[t.offsetProperty],n.style[t.sizeProperty]=parseFloat(s.style[t.offsetProperty])-parseFloat(i.style[t.offsetProperty])+"%")}))},step:function(e){var t=parseFloat(this.values[this.activeDragHandleIndex||0]),s=t,i=this.minValue,n=this.maxValue;isNaN(t)&&(s=0),s+=e,this.handleCount>1&&(this.activeDragHandleIndex>0&&(i=parseFloat(this.values[this.activeDragHandleIndex-1])+this.options.minRange),this.activeDragHandleIndex<this.handleCount-1&&(n=parseFloat(this.values[this.activeDragHandleIndex+1])-this.options.minRange)),s>n?s=n:i>s&&(s=i),s!==t&&(this.values[this.activeDragHandleIndex||0]=""+s,this.updateValues(),this.realElement.trigger("input").trigger("change"),this.setSliderValue(this.values))},valueToStepIndex:function(e){return(e-this.minValue)/this.stepValue},stepIndexToValue:function(e){return this.minValue+this.stepValue*e},valueToOffset:function(e){var t=this.maxValue-this.minValue;return(e-this.minValue)/t*100},getSliderValue:function(){return e.map(this.values,(function(e){return parseFloat(e)||0}))},setSliderValue:function(e){var t=this;this.handles.each((function(s,i){i.style[t.offsetProperty]=t.valueToOffset(e[s])+"%"}))},refresh:function(){var e=this.realElement.is(":disabled");this.fakeElement.toggleClass(this.options.disabledClass,e),this.setSliderValue(this.getSliderValue()),this.updateRanges()},destroy:function(){this.realElement.removeClass(this.options.hiddenClass).insertBefore(this.fakeElement),this.fakeElement.remove(),this.realElement.off({keydown:this.onKeyPress,focus:this.onFocus,blur:this.onBlur})}}})),
/*! picturefill - v3.0.2 - 2016-02-12
 * https://scottjehl.github.io/picturefill/
 * Copyright (c) 2016 https://github.com/scottjehl/picturefill/blob/master/Authors.txt; Licensed MIT
 */
/*! Gecko-Picture - v1.0
 * https://github.com/scottjehl/picturefill/tree/3.0/src/plugins/gecko-picture
 * Firefox's early picture implementation (prior to FF41) is static and does
 * not react to viewport changes. This tiny module fixes this.
 */
function(e){var t,s,i,n,o,a,l,r=navigator.userAgent;e.HTMLPictureElement&&/ecko/.test(r)&&r.match(/rv\:(\d+)/)&&RegExp.$1<45&&addEventListener("resize",(s=document.createElement("source"),i=function(e){var t,i,n=e.parentNode;"PICTURE"===n.nodeName.toUpperCase()?(t=s.cloneNode(),n.insertBefore(t,n.firstElementChild),setTimeout((function(){n.removeChild(t)}))):(!e._pfLastSize||e.offsetWidth>e._pfLastSize)&&(e._pfLastSize=e.offsetWidth,i=e.sizes,e.sizes+=",100vw",setTimeout((function(){e.sizes=i})))},n=function(){var e,t=document.querySelectorAll("picture > img, img[srcset][sizes]");for(e=0;e<t.length;e++)i(t[e])},o=function(){clearTimeout(t),t=setTimeout(n,99)},a=e.matchMedia&&matchMedia("(orientation: landscape)"),l=function(){o(),a&&a.addListener&&a.addListener(o)},s.srcset="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",/^[c|i]|d$/.test(document.readyState||"")?l():document.addEventListener("DOMContentLoaded",l),o))}(window),
/*! Picturefill - v3.0.2
 * http://scottjehl.github.io/picturefill
 * Copyright (c) 2015 https://github.com/scottjehl/picturefill/blob/master/Authors.txt;
 *  License: MIT
 */
function(e,t){"use strict";function s(e){return" "===e||"\t"===e||"\n"===e||"\f"===e||"\r"===e}function i(e,t){return e.res-t.res}function n(e,t){var s,i,n;if(e&&t)for(n=b.parseSet(t),e=b.makeUrl(e),s=0;s<n.length;s++)if(e===b.makeUrl(n[s].url)){i=n[s];break}return i}var o,a,l;t.createElement("picture");var r,c,h,d,p,f,u,m,g,v,_,w,k,y,C,E,b={},x=!1,j=function(){},A=t.createElement("img"),S=A.getAttribute,T=A.setAttribute,D=A.removeAttribute,H=t.documentElement,$={},I={algorithm:""},F=navigator.userAgent,z=/rident/.test(F)||/ecko/.test(F)&&F.match(/rv\:(\d+)/)&&RegExp.$1>35,M="currentSrc",P=/\s+\+?\d+(e\d+)?w/,O=/(\([^)]+\))?\s*(.+)/,R=e.picturefillCFG,B="font-size:100%!important;",V=!0,L={},N={},K=e.devicePixelRatio,W={px:1,in:96},q=t.createElement("a"),Y=!1,U=/^[ \t\n\r\u000c]+/,X=/^[, \t\n\r\u000c]+/,G=/^[^ \t\n\r\u000c]+/,Q=/[,]+$/,J=/^\d+$/,Z=/^-?(?:[0-9]+|[0-9]*\.[0-9]+)(?:[eE][+-]?[0-9]+)?$/,ee=function(e,t,s,i){e.addEventListener?e.addEventListener(t,s,i||!1):e.attachEvent&&e.attachEvent("on"+t,s)},te=function(e){var t={};return function(s){return s in t||(t[s]=e(s)),t[s]}},se=(r=/^([\d\.]+)(em|vw|px)$/,c=te((function(e){return"return "+function(){for(var e=arguments,t=0,s=e[0];++t in e;)s=s.replace(e[t],e[++t]);return s}((e||"").toLowerCase(),/\band\b/g,"&&",/,/g,"||",/min-([a-z-\s]+):/g,"e.$1>=",/max-([a-z-\s]+):/g,"e.$1<=",/calc([^)]+)/g,"($1)",/(\d+[\.]*[\d]*)([a-z]+)/g,"($1 * e.$2)",/^(?!(e.[a-z]|[0-9\.&=|><\+\-\*\(\)\/])).*/gi,"")+";"})),function(e,t){var s;if(!(e in L))if(L[e]=!1,t&&(s=e.match(r)))L[e]=s[1]*W[s[2]];else try{L[e]=new Function("e",c(e))(W)}catch(e){}return L[e]}),ie=function(e,t){return e.w?(e.cWidth=b.calcListLength(t||"100vw"),e.res=e.w/e.cWidth):e.res=e.d,e},ne=function(e){if(x){var s,i,n,o=e||{};if(o.elements&&1===o.elements.nodeType&&("IMG"===o.elements.nodeName.toUpperCase()?o.elements=[o.elements]:(o.context=o.elements,o.elements=null)),n=(s=o.elements||b.qsa(o.context||t,o.reevaluate||o.reselect?b.sel:b.selShort)).length){for(b.setupRun(o),Y=!0,i=0;i<n;i++)b.fillImg(s[i],o);b.teardownRun(o)}}};e.console&&console.warn,M in A||(M="src"),$["image/jpeg"]=!0,$["image/gif"]=!0,$["image/png"]=!0,$["image/svg+xml"]=t.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#Image","1.1"),b.ns=("pf"+(new Date).getTime()).substr(0,9),b.supSrcset="srcset"in A,b.supSizes="sizes"in A,b.supPicture=!!e.HTMLPictureElement,b.supSrcset&&b.supPicture&&!b.supSizes&&(h=t.createElement("img"),A.srcset="data:,a",h.src="data:,a",b.supSrcset=A.complete===h.complete,b.supPicture=b.supSrcset&&b.supPicture),b.supSrcset&&!b.supSizes?(d="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",p=t.createElement("img"),f=function(){2===p.width&&(b.supSizes=!0),a=b.supSrcset&&!b.supSizes,x=!0,setTimeout(ne)},p.onload=f,p.onerror=f,p.setAttribute("sizes","9px"),p.srcset=d+" 1w,data:image/gif;base64,R0lGODlhAgABAPAAAP///wAAACH5BAAAAAAALAAAAAACAAEAAAICBAoAOw== 9w",p.src=d):x=!0,b.selShort="picture>img,img[srcset]",b.sel=b.selShort,b.cfg=I,b.DPR=K||1,b.u=W,b.types=$,b.setSize=j,b.makeUrl=te((function(e){return q.href=e,q.href})),b.qsa=function(e,t){return"querySelector"in e?e.querySelectorAll(t):[]},b.matchesMedia=function(){return e.matchMedia&&(matchMedia("(min-width: 0.1em)")||{}).matches?b.matchesMedia=function(e){return!e||matchMedia(e).matches}:b.matchesMedia=b.mMQ,b.matchesMedia.apply(this,arguments)},b.mMQ=function(e){return!e||se(e)},b.calcLength=function(e){var t=se(e,!0)||!1;return t<0&&(t=!1),t},b.supportsType=function(e){return!e||$[e]},b.parseSize=te((function(e){var t=(e||"").match(O);return{media:t&&t[1],length:t&&t[2]}})),b.parseSet=function(e){return e.cands||(e.cands=function(e,t){function i(t){var s,i=t.exec(e.substring(p));if(i)return s=i[0],p+=s.length,s}function n(){var e,s,i,n,o,r,c,h,d,p=!1,u={};for(n=0;n<l.length;n++)r=(o=l[n])[o.length-1],c=o.substring(0,o.length-1),h=parseInt(c,10),d=parseFloat(c),J.test(c)&&"w"===r?((e||s)&&(p=!0),0===h?p=!0:e=h):Z.test(c)&&"x"===r?((e||s||i)&&(p=!0),d<0?p=!0:s=d):J.test(c)&&"h"===r?((i||s)&&(p=!0),0===h?p=!0:i=h):p=!0;p||(u.url=a,e&&(u.w=e),s&&(u.d=s),i&&(u.h=i),i||s||e||(u.d=1),1===u.d&&(t.has1x=!0),u.set=t,f.push(u))}function o(){for(i(U),r="",c="in descriptor";;){if(h=e.charAt(p),"in descriptor"===c)if(s(h))r&&(l.push(r),r="",c="after descriptor");else{if(","===h)return p+=1,r&&l.push(r),void n();if("("===h)r+=h,c="in parens";else{if(""===h)return r&&l.push(r),void n();r+=h}}else if("in parens"===c)if(")"===h)r+=h,c="in descriptor";else{if(""===h)return l.push(r),void n();r+=h}else if("after descriptor"===c)if(s(h));else{if(""===h)return void n();c="in descriptor",p-=1}p+=1}}for(var a,l,r,c,h,d=e.length,p=0,f=[];;){if(i(X),p>=d)return f;a=i(G),l=[],","===a.slice(-1)?(a=a.replace(Q,""),n()):o()}}(e.srcset,e)),e.cands},b.getEmValue=function(){var e;if(!o&&(e=t.body)){var s=t.createElement("div"),i=H.style.cssText,n=e.style.cssText;s.style.cssText="position:absolute;left:0;visibility:hidden;display:block;padding:0;border:none;font-size:1em;width:1em;overflow:hidden;clip:rect(0px, 0px, 0px, 0px)",H.style.cssText=B,e.style.cssText=B,e.appendChild(s),o=s.offsetWidth,e.removeChild(s),o=parseFloat(o,10),H.style.cssText=i,e.style.cssText=n}return o||16},b.calcListLength=function(e){if(!(e in N)||I.uT){var t=b.calcLength(function(e){var t,i,n,o,a,l,r,c=/^(?:[+-]?[0-9]+|[0-9]*\.[0-9]+)(?:[eE][+-]?[0-9]+)?(?:ch|cm|em|ex|in|mm|pc|pt|px|rem|vh|vmin|vmax|vw)$/i,h=/^calc\((?:[0-9a-z \.\+\-\*\/\(\)]+)\)$/i;for(n=(i=function(e){function t(){o&&(a.push(o),o="")}function i(){a[0]&&(l.push(a),a=[])}for(var n,o="",a=[],l=[],r=0,c=0,h=!1;;){if(""===(n=e.charAt(c)))return t(),i(),l;if(h){if("*"===n&&"/"===e[c+1]){h=!1,c+=2,t();continue}c+=1}else{if(s(n)){if(e.charAt(c-1)&&s(e.charAt(c-1))||!o){c+=1;continue}if(0===r){t(),c+=1;continue}n=" "}else if("("===n)r+=1;else if(")"===n)r-=1;else{if(","===n){t(),i(),c+=1;continue}if("/"===n&&"*"===e.charAt(c+1)){h=!0,c+=2;continue}}o+=n,c+=1}}}(e)).length,t=0;t<n;t++)if(a=(o=i[t])[o.length-1],r=a,c.test(r)&&parseFloat(r)>=0||h.test(r)||"0"===r||"-0"===r||"+0"===r){if(l=a,o.pop(),0===o.length)return l;if(o=o.join(" "),b.matchesMedia(o))return l}return"100vw"}(e));N[e]=t||W.width}return N[e]},b.setRes=function(e){var t;if(e)for(var s=0,i=(t=b.parseSet(e)).length;s<i;s++)ie(t[s],e.sizes);return t},b.setRes.res=ie,b.applySetCandidate=function(e,t){if(e.length){var s,o,a,l,r,c,h,d,p,f,u,m,g,v,_,w,k=t[b.ns],y=b.DPR;if(c=k.curSrc||t[M],(h=k.curCan||function(e,t,s){var i;return!s&&t&&(s=(s=e[b.ns].sets)&&s[s.length-1]),(i=n(t,s))&&(t=b.makeUrl(t),e[b.ns].curSrc=t,e[b.ns].curCan=i,i.res||ie(i,i.set.sizes)),i}(t,c,e[0].set))&&h.set===e[0].set&&((p=z&&!t.complete&&h.res-.1>y)||(h.cached=!0,h.res>=y&&(r=h))),!r)for(e.sort(i),r=e[(l=e.length)-1],o=0;o<l;o++)if((s=e[o]).res>=y){r=e[a=o-1]&&(p||c!==b.makeUrl(s.url))&&(f=e[a].res,u=s.res,m=y,g=e[a].cached,v=void 0,_=void 0,w=void 0,"saveData"===I.algorithm?f>2.7?w=m+1:(_=(u-m)*(v=Math.pow(f-.6,1.5)),g&&(_+=.1*v),w=f+_):w=m>1?Math.sqrt(f*u):f,w>m)?e[a]:s;break}r&&(d=b.makeUrl(r.url),k.curSrc=d,k.curCan=r,d!==c&&b.setSrc(t,r),b.setSize(t))}},b.setSrc=function(e,t){var s;e.src=t.url,"image/svg+xml"===t.set.type&&(s=e.style.width,e.style.width=e.offsetWidth+1+"px",e.offsetWidth+1&&(e.style.width=s))},b.getSet=function(e){var t,s,i,n=!1,o=e[b.ns].sets;for(t=0;t<o.length&&!n;t++)if((s=o[t]).srcset&&b.matchesMedia(s.media)&&(i=b.supportsType(s.type))){"pending"===i&&(s=i),n=s;break}return n},b.parseSets=function(e,t,s){var i,o,l,r,c=t&&"PICTURE"===t.nodeName.toUpperCase(),h=e[b.ns];(void 0===h.src||s.src)&&(h.src=S.call(e,"src"),h.src?T.call(e,"data-pfsrc",h.src):D.call(e,"data-pfsrc")),(void 0===h.srcset||s.srcset||!b.supSrcset||e.srcset)&&(i=S.call(e,"srcset"),h.srcset=i,r=!0),h.sets=[],c&&(h.pic=!0,function(e,t){var s,i,n,o,a=e.getElementsByTagName("source");for(s=0,i=a.length;s<i;s++)(n=a[s])[b.ns]=!0,(o=n.getAttribute("srcset"))&&t.push({srcset:o,media:n.getAttribute("media"),type:n.getAttribute("type"),sizes:n.getAttribute("sizes")})}(t,h.sets)),h.srcset?(o={srcset:h.srcset,sizes:S.call(e,"sizes")},h.sets.push(o),(l=(a||h.src)&&P.test(h.srcset||""))||!h.src||n(h.src,o)||o.has1x||(o.srcset+=", "+h.src,o.cands.push({url:h.src,d:1,set:o}))):h.src&&h.sets.push({srcset:h.src,sizes:null}),h.curCan=null,h.curSrc=void 0,h.supported=!(c||o&&!b.supSrcset||l&&!b.supSizes),r&&b.supSrcset&&!h.supported&&(i?(T.call(e,"data-pfsrcset",i),e.srcset=""):D.call(e,"data-pfsrcset")),h.supported&&!h.srcset&&(!h.src&&e.src||e.src!==b.makeUrl(h.src))&&(null===h.src?e.removeAttribute("src"):e.src=h.src),h.parsed=!0},b.fillImg=function(e,t){var s,i=t.reselect||t.reevaluate;e[b.ns]||(e[b.ns]={}),s=e[b.ns],(i||s.evaled!==l)&&(s.parsed&&!t.reevaluate||b.parseSets(e,e.parentNode,t),s.supported?s.evaled=l:function(e){var t,s=b.getSet(e),i=!1;"pending"!==s&&(i=l,s&&(t=b.setRes(s),b.applySetCandidate(t,e))),e[b.ns].evaled=i}(e))},b.setupRun=function(){Y&&!V&&K===e.devicePixelRatio||(V=!1,K=e.devicePixelRatio,L={},N={},b.DPR=K||1,W.width=Math.max(e.innerWidth||0,H.clientWidth),W.height=Math.max(e.innerHeight||0,H.clientHeight),W.vw=W.width/100,W.vh=W.height/100,l=[W.height,W.width,K].join("-"),W.em=b.getEmValue(),W.rem=W.em)},b.supPicture?(ne=j,b.fillImg=j):(k=e.attachEvent?/d$|^c/:/d$|^c|^i/,y=function(){var e=t.readyState||"";C=setTimeout(y,"loading"===e?200:999),t.body&&(b.fillImgs(),(u=u||k.test(e))&&clearTimeout(C))},C=setTimeout(y,t.body?9:99),E=H.clientHeight,ee(e,"resize",(m=function(){V=Math.max(e.innerWidth||0,H.clientWidth)!==W.width||H.clientHeight!==E,E=H.clientHeight,V&&b.fillImgs()},g=99,w=function(){var e=new Date-_;e<g?v=setTimeout(w,g-e):(v=null,m())},function(){_=new Date,v||(v=setTimeout(w,g))})),ee(t,"readystatechange",y)),b.picturefill=ne,b.fillImgs=ne,b.teardownRun=j,ne._=b,e.picturefillCFG={pf:b,push:function(e){var t=e.shift();"function"==typeof b[t]?b[t].apply(b,e):(I[t]=e[0],Y&&b.fillImgs({reselect:!0}))}};for(;R&&R.length;)e.picturefillCFG.push(R.shift());e.picturefill=ne,"object"==typeof module&&"object"==typeof module.exports?module.exports=ne:"function"==typeof define&&define.amd&&define("picturefill",(function(){return ne})),b.supPicture||($["image/webp"]=function(t,s){var i=new e.Image;return i.onerror=function(){$[t]=!1,ne()},i.onload=function(){$[t]=1===i.width,ne()},i.src=s,"pending"}("image/webp","data:image/webp;base64,UklGRkoAAABXRUJQVlA4WAoAAAAQAAAAAAAAAAAAQUxQSAwAAAABBxAR/Q9ERP8DAABWUDggGAAAADABAJ0BKgEAAQADADQlpAADcAD++/1QAA=="))}(window,document),function(e){"use strict";e.fn.fitVids=function(t){var s={customSelector:null,ignore:null};if(!document.getElementById("fit-vids-style")){var i=document.head||document.getElementsByTagName("head")[0],n=document.createElement("div");n.innerHTML='<p>x</p><style id="fit-vids-style">.fluid-width-video-wrapper{width:100%;position:relative;padding:0;}.fluid-width-video-wrapper iframe,.fluid-width-video-wrapper object,.fluid-width-video-wrapper embed {position:absolute;top:0;left:0;width:100%;height:100%;}</style>',i.appendChild(n.childNodes[1])}return t&&e.extend(s,t),this.each((function(){var t=['iframe[src*="player.vimeo.com"]','iframe[src*="youtube.com"]','iframe[src*="youtube-nocookie.com"]','iframe[src*="kickstarter.com"][src*="video.html"]',"object","embed"];s.customSelector&&t.push(s.customSelector);var i=".fitvidsignore";s.ignore&&(i=i+", "+s.ignore);var n=e(this).find(t.join(","));(n=(n=n.not("object object")).not(i)).each((function(t){var s=e(this);if(!(s.parents(i).length>0||"embed"===this.tagName.toLowerCase()&&s.parent("object").length||s.parent(".fluid-width-video-wrapper").length)){s.css("height")||s.css("width")||!isNaN(s.attr("height"))&&!isNaN(s.attr("width"))||(s.attr("height",9),s.attr("width",16));var n=("object"===this.tagName.toLowerCase()||s.attr("height")&&!isNaN(parseInt(s.attr("height"),10))?parseInt(s.attr("height"),10):s.height())/(isNaN(parseInt(s.attr("width"),10))?s.width():parseInt(s.attr("width"),10));if(!s.attr("id")){var o="fitvid"+t;s.attr("id",o)}s.wrap('<div class="fluid-width-video-wrapper"></div>').parent(".fluid-width-video-wrapper").css("padding-top",100*n+"%"),s.removeAttr("height").removeAttr("width")}}))}))}}(window.jQuery||window.Zepto),
/*!
 * Lazy Load - JavaScript plugin for lazy loading images
 *
 * Copyright (c) 2007-2019 Mika Tuupola
 *
 * Licensed under the MIT license:
 *   http://www.opensource.org/licenses/mit-license.php
 *
 * Project home:
 *   https://appelsiini.net/projects/lazyload
 *
 * Version: 2.0.0-rc.2
 *
 */
function(e,t){"object"==typeof exports?module.exports=t(e):"function"==typeof define&&define.amd?define([],t):e.LazyLoad=t(e)}("undefined"!=typeof global?global:this.window||this.global,(function(e){"use strict";function t(e,t){this.settings=i(s,t||{}),this.images=e||document.querySelectorAll(this.settings.selector),this.observer=null,this.init()}"function"==typeof define&&define.amd&&(e=window);var s={src:"data-src",srcset:"data-srcset",selector:".lazyload",root:null,rootMargin:"0px",threshold:0},i=function(e){var t={},s=!1,n=0,o=arguments.length;"[object Boolean]"===Object.prototype.toString.call(e)&&(s=e,n++);for(var a=function(e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(s&&"[object Object]"===Object.prototype.toString.call(e[n])?t[n]=i(!0,t[n],e[n]):t[n]=e[n])};n<o;n++){var l=arguments[n];a(l)}return t};if(t.prototype={init:function(){if(e.IntersectionObserver){var t=this,s={root:this.settings.root,rootMargin:this.settings.rootMargin,threshold:[this.settings.threshold]};this.observer=new IntersectionObserver((function(e){Array.prototype.forEach.call(e,(function(e){if(e.isIntersecting){t.observer.unobserve(e.target);var s=e.target.getAttribute(t.settings.src),i=e.target.getAttribute(t.settings.srcset);"img"===e.target.tagName.toLowerCase()?(s&&(e.target.src=s),i&&(e.target.srcset=i)):e.target.style.backgroundImage="url("+s+")"}}))}),s),Array.prototype.forEach.call(this.images,(function(e){t.observer.observe(e)}))}else this.loadImages()},loadAndDestroy:function(){this.settings&&(this.loadImages(),this.destroy())},loadImages:function(){if(this.settings){var e=this;Array.prototype.forEach.call(this.images,(function(t){var s=t.getAttribute(e.settings.src),i=t.getAttribute(e.settings.srcset);"img"===t.tagName.toLowerCase()?(s&&(t.src=s),i&&(t.srcset=i)):t.style.backgroundImage="url('"+s+"')"}))}},destroy:function(){this.settings&&(this.observer.disconnect(),this.settings=null)}},e.lazyload=function(e,s){return new t(e,s)},e.jQuery){var n=e.jQuery;n.fn.lazyload=function(e){return(e=e||{}).attribute=e.attribute||"data-src",new t(n.makeArray(this),e),this}}return t}));var modal_scroll_pos,transition_speed=250,is_touch_device="ontouchstart"in window||(navigator.msMaxTouchPoints||navigator.maxTouchPoints)>2,y_scroll_pos=window.pageYOffset,window_width=$(window).width(),window_height=$(window).height(),window_height_initial=window_height,body=document.body,sessionStorage=window.sessionStorage,svgs={cross:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 13.41 13.41"><path d="M-.001 1.414L1.413 0l12 12-1.414 1.413z"/><path d="M-.001 12.006l12-12 1.414 1.415-12 12z"/></svg>',caret_down:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 19.41 11.12"><g data-name="Layer 2"><polygon points="9.71 11.12 0 1.41 1.41 0 9.71 8.29 18 0 19.41 1.41 9.71 11.12" data-name="Layer 1"/></g></svg>',plus:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><g><polygon points="20 9 11 9 11 0 9 0 9 9 0 9 0 11 9 11 9 20 11 20 11 11 20 11 20 9"/></g></svg>',minus:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 2"><g><rect width="20" height="2"/></g></svg>',check:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 19.49 19.05"><g data-name="Layer 2"><polygon points="7.87 19.05 0 12.3 1.3 10.78 7.43 16.04 17.81 0 19.49 1.09 7.87 19.05"/></g></svg>',spinner:'<svg xmlns="http://www.w3.org/2000/svg" class="lds-rolling" preserveAspectRatio="xMidYMid" style="animation-play-state:paused;animation-delay:-.9s;background:0 0" viewBox="0 0 100 100"><circle cx="50" cy="50" r="35" fill="none" stroke="#000" stroke-dasharray="164.934 56.978" stroke-width="10" style="animation-play-state:paused;animation-delay:-.9s" transform="rotate(26.667 50 50)"><animateTransform attributeName="transform" begin="0s" calcMode="linear" dur="0.9s" keyTimes="0;1" repeatCount="indefinite" type="rotate" values="0 50 50;360 50 50"/></circle></svg>'},body_elem=$("body"),header_offset=body_elem.offset().top+$(".site-header").outerHeight()+100,visible_offset=window_height,y_scroll_pos_prev=999999,doc_el=$("html, body"),page_wrap=$(".page-wrap"),body_colors=[],body_color_current=!1,scrolling_hoz=!1,hoz_scroll_els=[],fallintoplace_els=[],focus_els=[],css_animations=[];$(document).ready((function(){if(body.classList.contains("animations-enabled")){var e=!1;$(document).keydown((function(){e=!0})),$(document).keyup((function(){e=!1})),fhk_load_animations_class(),$(".page-wrap").removeClass("page-loading page-loading-in"),$(".page-wrap").addClass("page-loaded"),$(window).bind("pageshow",(function(){$(".page-wrap").removeClass("page-loading page-loading-out"),$(".page-wrap").addClass("page-loaded"),$("body").removeClass("lock-scroll")})),$('a:not([href*="#"]):not([href=""]):not([download]):not([target]):not([href*="mailto:"]):not([href*="tel:"]):not([href*="skype:"]):not([href*="wpnonce="]):not(.site-menu .menu-item-has-children > a):not(.js-download), .menu-item a[href*="#"]:not([href="#"])').on("click",(function(t){if(!e&&$(this).attr("href")){t.preventDefault();var s=this.href;if("image"==($(this).attr("data-page-transition")?"image":"standard")){$(this).addClass("transitioning");var i=$(this).attr("data-page-transition");setTimeout((function(e){var t=e.outerWidth(),n=e.outerHeight(),o=e.offset(),a=o.top-y_scroll_pos,l=o.left;$("body").append('<div class="img-transition" style="width: '+t+"px; height: "+n+"px; position: fixed; top: "+a+"px; left: "+l+"px; background: url("+i+') center / cover no-repeat"><div>'),setTimeout((function(){$(".img-transition").css({width:"100vw",height:"100vh",top:"0",left:"0","z-index":"99999"}),fhk_ajax_load_page_body(s)}),300)}),550,$(this))}else $(".page-wrap").addClass("page-loading"),$(".page-wrap").addClass("page-loading-out"),$(".page-wrap").removeClass("page-loaded"),function(e){setTimeout((function(){window.location.href=e}),600)}(s)}}))}})),$(document).ready((function(){is_touch_device&&$("body").removeClass("no-touch"),$("body").removeClass("no-js"),$(".datepicker").attr("autocomplete","off"),$(".txt-styles table").wrap('<div class="table-wrap"></div>'),$(".woocommerce-checkout .clear").remove(),$('iframe:not([src^="https://js.stripe.com"])').wrap('<div class="fitvids-container"></div>'),$(".fitvids-container").fitVids(),$("img.lazyload").lazyload({rootMargin:"100px"}),$(window).on("scroll",(function(){fhk_site_scrolled(),body.classList.contains("animations-enabled")&&(requestAnimationFrame(fhk_update_body_color),requestAnimationFrame(fhk_check_hoz_scroll),requestAnimationFrame(fhk_check_fallintoplace_els),requestAnimationFrame(fhk_check_focus_items),requestAnimationFrame(fhk_css_animation_play_pause))})),$(window).on("resize",(function(){window_width=window.innerWidth,window_height=window.innerHeight,fhk_init_animations()})),$(document).ajaxComplete((function(){fhk_jcf()})),$("[data-toggle-target]").on("click",(function(e){e.preventDefault();var t=$(this).attr("data-toggle-target"),s=$('[data-toggle="'+t+'"]');s.length&&(s.hasClass("active")?($(this).removeClass("active"),s.stop().fadeOut({duration:transition_speed,queue:!1}).slideUp(transition_speed),setTimeout((function(){s.removeClass("active")}),transition_speed)):($(this).addClass("active"),s.stop().fadeIn({duration:transition_speed,queue:!1}).css("display","none").slideDown(transition_speed).addClass("active")))})),$(".js-toggle-menu").on("click",(function(e){e.preventDefault(),$(".site-banner__links.active").length?(fhk_unlock_scroll(),$(".js-toggle-menu, .site-banner__links").removeClass("active")):$(".site-header__menu").hasClass("active")?(fhk_unlock_scroll(),$(".js-toggle-menu, .site-header__menu").removeClass("active")):(fhk_lock_scroll(),$(".js-toggle-menu, .site-header__menu").addClass("active"))})),$(".site-banner__links-toggle").on("click",(function(e){e.preventDefault();var t=$(this).siblings(".site-banner__links");t.hasClass("active")?(fhk_unlock_scroll(),t.removeClass("active"),$(".js-toggle-menu").removeClass("active")):(t.addClass("active"),$(".js-toggle-menu").addClass("active"),setTimeout((function(){fhk_lock_scroll()}),800))})),$(window).on("resize",(function(){$(this).width()>1e3&&($(".js-toggle-menu, .site-header__menu").removeClass("active"),$("body").hasClass("scroll-locked")&&fhk_unlock_scroll()),$(this).width()>670&&$(".site-banner__links.active").length&&($(".site-banner__links.active").removeClass("active"),$(".js-toggle-menu").removeClass("active"),$("body").hasClass("scroll-locked")&&fhk_unlock_scroll())})),$(document).on("click","[data-modal-target]",(function(e){e.preventDefault(),fhk_open_modal($(this).attr("data-modal-target"))})),$(document).on("click",".js-close-modal, .modal__overlay",(function(e){e.preventDefault(),fhk_close_modal()})),$(document).keyup((function(e){27==e.keyCode&&fhk_close_modal()})),$(".js-smooth-scroll").on("click",(function(e){e.preventDefault();var t=$(".site-header").outerHeight(),s=$(this).attr("href");$(s).length&&$("html, body").animate({scrollTop:$(s).offset().top-t},450)})),$("[data-copy-clipboard]").on("click",(function(e){e.preventDefault();var t=$(this).attr("data-copy-clipboard");$(t).length&&($(t).select(),document.execCommand("copy"),$(this).text("Copied"))})),$(document).bind("gform_post_render",(function(){fhk_gform_submit(),fhk_jcf()})),fhk_gform_submit(),$(document).on("click",".jcf-option, .gform_wrapper .datepicker, .ui-datepicker-prev, .ui-datepicker-next",(function(){fhk_jcf()}))})),$(window).on("load",(function(){fhk_on_load()})),$(window).bind("popstate",(function(){window.location.href=window.location.href}));